[mysqld]

user		= {{ mysql_daemon_user }}
pid-file	= {{ mysql_pid }}
socket		= {{ mysql_socket }}
port		= 3306
basedir		= /usr
datadir     = {{ galera_mysql_datadir }}
tmpdir		= /tmp
lc-messages-dir	= /usr/share/mysql
skip-external-locking
skip-name-resolve = 1
collation-server = utf8_general_ci
character-set-server = utf8

bind-address = {{ hostvars[inventory_hostname]['ansible_default_ipv4']['address'] }}

binlog_format = ROW
default-storage-engine = innodb
innodb_autoinc_lock_mode = 2
innodb_locks_unsafe_for_binlog = 1
innodb_file_per_table = on
max_connections=4096
query_cache_size=0
query_cache_type=0
key_buffer		= 16M
max_allowed_packet	= 16M
thread_stack		= 192K
thread_cache_size       = 8
myisam-recover         = BACKUP
log_error = /var/log/mysql/error.log
expire_logs_days	= 10
max_binlog_size         = 100M


#slow_query_log_file	= /var/log/mysql/slow-query.log
#long_query_time = 3
#log_slow_rate_limit	= 1000
#log_slow_verbosity	= query_plan
#log_queries_not_using_indexes = ON